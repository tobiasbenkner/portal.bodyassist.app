(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{6105:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/logo",function(){return r(4151)}])},7072:function(n,e,r){"use strict";var t=r(2322),i=r(3927),o=r(2197);r(2784);e.Z=function(n){var e=n.title,r=n.children;return(0,t.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[(0,t.jsx)(o.Z,{variant:"h4",children:e}),r&&(0,t.jsx)(i.Z,{direction:"row",spacing:2,children:r})]})}},6908:function(n,e,r){"use strict";var t=r(4776),i=r.n(t),o=r(2322),a=r(3927),u=r(7550),s=r(422),c=r(5873),l=r(4117),f=r(2056),p=r(2784),d=r(5632);function h(n,e,r,t,i,o,a){try{var u=n[o](a),s=u.value}catch(c){return void r(c)}u.done?e(s):Promise.resolve(s).then(t,i)}e.Z=function(n){var e=(0,d.useRouter)(),r=e.pathname,t=(0,p.useState)(""),v=t[0],g=t[1];(0,p.useEffect)((function(){g(r.split("/")[2])}),[r]);var m=function(){var n,r=(n=i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.replace(r);case 2:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function a(n){h(o,t,i,a,u,"next",n)}function u(n){h(o,t,i,a,u,"throw",n)}a(void 0)}))});return function(n){return r.apply(this,arguments)}}();return(0,o.jsxs)(a.Z,{direction:"row",spacing:{xs:1,sm:2,md:4},children:[(0,o.jsx)(u.Z,{sx:{backgroundColor:"#DCDCDC",padding:2,borderRadius:1},children:(0,o.jsx)(s.Z,{children:[{name:"General",link:"/app/general",section:"general"},{name:"Logo",link:"/app/logo",section:"logo"},{name:"Colores",link:"/app/colors",section:"colors"}].map((function(n){return(0,o.jsx)(c.ZP,{disablePadding:!0,children:(0,o.jsx)(l.Z,{selected:v===n.section,onClick:function(){return m(n.link)},children:(0,o.jsx)(f.Z,{primary:n.name})})},n.link)}))})}),(0,o.jsx)(u.Z,{sx:{width:"100%"},children:n.children})]})}},4151:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return D}});var t=r(4776),i=r.n(t),o=r(2322),a=r(7072),u=r(2841),s=r(107),c=r(2048),l=r(2784),f=r(4424),p=r(3927),d=r(7550);function h(n,e,r,t,i,o,a){try{var u=n[o](a),s=u.value}catch(c){return void r(c)}u.done?e(s):Promise.resolve(s).then(t,i)}function v(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function g(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){v(n,e,r[e])}))}return n}var m=function(n){return new Promise((function(e,r){var t=new FileReader;t.readAsDataURL(n),t.onload=function(){return e(t.result)},t.onerror=function(n){return r(n)}}))},x=function(n){var e=n.image,r=n.setImage,t=(0,f.uI)({maxFiles:1,multiple:!1,accept:{"image/*":[".jpeg",".png"]}}),a=t.acceptedFiles,u=t.fileRejections,c=t.getRootProps,v=t.getInputProps,x=(0,l.useState)(""),b=x[0],y=x[1];return(0,l.useEffect)((function(){var n;(n=i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=a[0]){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,m(e);case 5:"string"===typeof(t=n.sent)&&r(t);case 7:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function a(n){h(o,t,i,a,u,"next",n)}function u(n){h(o,t,i,a,u,"throw",n)}a(void 0)}))})()}),[a]),(0,l.useEffect)((function(){0!==u.length&&y("This file is not allowed. Please upload only images")}),[u]),(0,o.jsxs)(p.Z,{spacing:2,children:[b&&(0,o.jsx)(s.Z,{severity:"warning",children:b}),(0,o.jsx)(s.Z,{severity:"info",children:"Despu\xe9s de haber cargado un nuevo logotipo, puede pasar hasta un d\xeda antes de que se muestre el nuevo logotipo. Por favor, tenga paciencia. Si no aparece el nuevo logotipo, escr\xedbanos un breve correo electr\xf3nico. info@bodyassist.app"}),e&&(0,o.jsx)(d.Z,{sx:{width:"100%",textAlign:"center"},children:(0,o.jsx)("img",{src:e,alt:"logo",style:{objectFit:"contain",maxWidth:300}})}),(0,o.jsxs)(d.Z,g({sx:{border:1,borderStyle:"dashed",cursor:"pointer",textAlign:"center",p:5}},c(),{children:[(0,o.jsx)("input",g({},v())),(0,o.jsx)("p",{children:"pulse aqu\xed para subir una imagen o arrastre y suelte una imagen aqu\xed"})]}))]})},b=r(558),y=r(794),j=r(3379),w=r(6908),Z=r(9097),P=r.n(Z);function k(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function O(n,e,r,t,i,o,a){try{var u=n[o](a),s=u.value}catch(c){return void r(c)}u.done?e(s):Promise.resolve(s).then(t,i)}function C(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,i,o=[],a=!0,u=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return k(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function _(){var n=S(["\n    query tenant {\n        tenant {\n            tenantId\n            domain\n        }\n    }\n"]);return _=function(){return n},n}function E(){var n=S(["\n    mutation Mutation($input: ChangeLogoInput!) {\n        changeLogo(input: $input) {\n            done\n        }\n    }\n"]);return E=function(){return n},n}var A=(0,b.Ps)(_()),I=(0,b.Ps)(E()),D=function(){var n=(0,l.useState)(""),e=n[0],r=n[1],t=(0,y.a)(A),f=t.loading,p=t.error,d=t.data,h=C((0,j.D)(I),2),v=h[0],g=h[1],m=function(){var n,r=(n=i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,v({variables:{input:{imageAsBase64:e}}});case 4:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function a(n){O(o,t,i,a,u,"next",n)}function u(n){O(o,t,i,a,u,"throw",n)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,l.useEffect)((function(){if(!f){var n="https://raw.githubusercontent.com/tobiasbenkner/".concat(d.tenant.domain,"/gh-pages/assets/logo.webp");r(n)}}),[f]),f?(0,o.jsx)(w.Z,{children:(0,o.jsx)(u.Z,{})}):d.tenant.domain?(0,o.jsxs)(w.Z,{children:[(0,o.jsx)(a.Z,{title:"Cambiar Logo",children:(0,o.jsx)(c.Z,{variant:"contained",disabled:g.loading,onClick:m,children:"Save"})}),p&&(0,o.jsx)(s.Z,{severity:"warning",children:p.message}),(0,o.jsx)(x,{image:e,setImage:r})]}):(0,o.jsx)(w.Z,{children:(0,o.jsxs)(s.Z,{severity:"warning",children:["s\xf3lo puede utilizar su propio logotipo si solicita su propio dominio. para ello, vaya al siguiente enlace",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)(P(),{href:"/app/general",children:(0,o.jsx)("a",{children:"https://portal.bodyassist.app/app/general"})})]})})}}},function(n){n.O(0,[107,647,424,774,888,179],(function(){return e=6105,n(n.s=e);var e}));var e=n.O();_N_E=e}]);