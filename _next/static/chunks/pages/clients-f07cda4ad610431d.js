(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{4717:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients",function(){return t(4903)}])},7072:function(n,e,t){"use strict";var r=t(2322),i=t(3927),a=t(2197);t(2784);e.Z=function(n){var e=n.title,t=n.children;return(0,r.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[(0,r.jsx)(a.Z,{variant:"h4",children:e}),t&&(0,r.jsx)(i.Z,{direction:"row",spacing:2,children:t})]})}},4903:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return X},default:function(){return q}});var r=t(2322),i=t(9097),a=t.n(i),c=t(2784),u=t(7550),o=t(1075),l=t(2096),s=t(5213),d=t(4905),f=t(3927),h=t(2725),m=t(7671),v=t(2197),p=t(7072),j=t(558),x=t(794),b=t(6890),y=t(4776),g=t.n(y),Z=t(2048),w=t(9089),C=t(5936),_=t(6060),O=t(5694),P=t(107),S=t(6537),k=t(5971),A=t(3379),E=t(5632);function I(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function N(n,e,t,r,i,a,c){try{var u=n[a](c),o=u.value}catch(l){return void t(l)}u.done?e(o):Promise.resolve(o).then(r,i)}function z(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function F(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){z(n,e,t[e])}))}return n}function T(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,a=[],c=!0,u=!1;try{for(t=t.call(n);!(c=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);c=!0);}catch(o){u=!0,i=o}finally{try{c||null==t.return||t.return()}finally{if(u)throw i}}return a}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return I(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(){var n,e,t=(n=["\nmutation Mutation($input: CreateClientInput!) {\n    createClient(input: $input) {\n        _id\n        email\n        name\n    }\n}"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return $=function(){return t},t}var D={email:"",name:""},G=(0,j.Ps)($()),M=function(){var n=(0,E.useRouter)(),e=T(c.useState(D),2),t=e[0],i=e[1],a=T(c.useState(!1),2),u=a[0],o=a[1],l=T((0,A.D)(G),2),s=l[0],d=l[1],f=(d.data,d.loading),h=d.error,m=function(){o(!1)},v=function(){var e,r=(e=g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{input:{email:t.email,name:t.name}}});case 3:return r=e.sent,m(),e.next=7,n.replace("/clients/"+r.data.createClient._id+"/training");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function c(n){N(a,r,i,c,u,"next",n)}function u(n){N(a,r,i,c,u,"throw",n)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.Z,{variant:"contained",onClick:function(){o(!0),i(D)},children:"A\xf1adir"}),(0,r.jsxs)(w.Z,{open:u,onClose:m,children:[(0,r.jsx)(C.Z,{children:"A\xf1adir un entrenador"}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(O.Z,{sx:{mb:2},children:"Un nuevo cliente puede conectarse a la aplicaci\xf3n y ver su plan de entrenamiento."}),h&&(0,r.jsx)(P.Z,{severity:"warning",children:h.message}),(0,r.jsx)(S.Z,{autoFocus:!0,margin:"dense",id:"name",label:"Correo Electr\xf3nicos",type:"text",fullWidth:!0,variant:"outlined",value:t.email,onChange:function(n){return i((function(e){return F({},e,{email:n.target.value})}))},disabled:f}),(0,r.jsx)(S.Z,{autoFocus:!0,margin:"dense",id:"name",label:"Nombre",type:"text",fullWidth:!0,variant:"outlined",value:t.name,onChange:function(n){return i((function(e){return F({},e,{name:n.target.value})}))},disabled:f})]}),(0,r.jsxs)(k.Z,{children:[(0,r.jsx)(Z.Z,{onClick:m,disabled:f,children:"Cancelar"}),(0,r.jsx)(Z.Z,{onClick:v,disabled:f,children:"Guardar"})]})]})]})};function U(){var n,e,t=(n=["\nquery ListClients {\n  listClients {\n    _id\n    name\n    email\n    role\n  }\n}"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return U=function(){return t},t}var W=(0,j.Ps)(U()),X=!0,q=function(){var n=(0,x.a)(W),e=n.loading,t=(n.error,n.data);n.refetch;return e?(0,r.jsx)(b.Z,{}):(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(p.Z,{title:"Clientes",children:(0,r.jsx)(M,{})}),(0,r.jsx)(o.ZP,{container:!0,spacing:2,children:t.listClients.map((function(n){return(0,r.jsx)(o.ZP,{item:!0,xs:6,sm:4,md:3,lg:2,xl:1,children:(0,r.jsx)(a(),{href:"/clients/".concat(n._id,"/training"),children:(0,r.jsx)(l.Z,{children:(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(d.Z,{sx:{p:2},children:(0,r.jsx)(f.Z,{justifyContent:"center",alignItems:"center",children:(0,r.jsx)(h.Z,{sx:{height:140,width:140},variant:"rounded"})})}),(0,r.jsx)(m.Z,{children:(0,r.jsx)(v.Z,{gutterBottom:!0,variant:"h6",component:"div",children:n.name})})]})})})},n._id)}))})]})}},6890:function(n,e,t){"use strict";var r=t(2322),i=t(3927),a=t(2841);e.Z=function(){return(0,r.jsx)(i.Z,{justifyContent:"center",alignItems:"center",style:{height:"calc(100vh - 100px)"},children:(0,r.jsx)(a.Z,{})})}}},function(n){n.O(0,[107,867,647,870,537,856,353,774,888,179],(function(){return e=4717,n(n.s=e);var e}));var e=n.O();_N_E=e}]);