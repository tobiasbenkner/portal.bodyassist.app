(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[213],{7573:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plans/new",function(){return t(1898)}])},7072:function(e,n,t){"use strict";var r=t(2322),i=t(3927),a=t(2197);t(2784);n.Z=function(e){var n=e.title,t=e.children;return(0,r.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[(0,r.jsx)(a.Z,{variant:"h4",children:n}),t&&(0,r.jsx)(i.Z,{direction:"row",spacing:2,children:t})]})}},3698:function(e,n,t){"use strict";t.d(n,{Z:function(){return k}});var r=t(2322),i=t(2784),a=t(7550),s=t(107),u=t(3927),c=t(5744),o=t(5801),l=t(6961),f=t(9823),d=t(6537),p=t(2048),x=t(1853),j=t(5678),v=t(9506),y=t(7527),b=t(7612),h=t(6765),m=t.n(h),g=function(e){var n=e.label,t=e.value,i=e.setter,a=e.field;return(0,r.jsxs)(v.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(y.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(b.Z,{value:t,onChange:function(e){return function(e){var n=e.replace(/[^0-9.]/g,"");i((function(e){var t=JSON.parse(JSON.stringify(e));return m()(t,a,n),t}))}(e.target.value)},label:n,autoComplete:"off",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})]})},Z=function(e){return JSON.parse(JSON.stringify(e))},O=t(558),w=t(794),S=t(6890);function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}function C(){var e,n,t=(e=["\n    query Query {\n        listAllExercises {\n            _id\n            name\n            nameEs\n            muscleGroup\n        }\n    }"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return C=function(){return t},t}var E=(0,O.Ps)(C()),k=function(e){var n=e.state,t=e.setState,v=(0,w.a)(E),y=v.loading,b=v.error,h=v.data;v.refetch;return y?(0,r.jsx)(S.Z,{}):(0,r.jsxs)(a.Z,{children:[b&&(0,r.jsx)(s.Z,{children:b.message}),n&&(0,r.jsxs)(u.Z,{spacing:2,children:[(0,r.jsx)(x.Z,{type:"text",label:"Plan",value:n.name,field:"name",setter:t}),n.days.map((function(e,n){return(0,r.jsxs)(c.Z,{elevation:3,sx:{p:2,mb:2},children:[(0,r.jsx)(u.Z,{alignItems:"end",sx:{mb:1},children:(0,r.jsx)(o.Z,{onClick:function(){return e=n,void t((function(n){var t=Z(n);return t.days.splice(e,1),t}));var e},size:"small",children:(0,r.jsx)(j.ZkW,{})})}),(0,r.jsx)(x.Z,{type:"text",label:"D\xeda",value:e.name,field:"days[".concat(n,"].name"),setter:t}),(0,r.jsx)(l.Z,{sx:{mb:1,mt:1}}),e.exercises.map((function(e,a){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(f.Z,{id:"auto-day-"+n+"-exercise-"+a,disablePortal:!0,options:h.listAllExercises,getOptionLabel:function(e){return e.nameEs||e.name||""},isOptionEqualToValue:function(e,n){return e._id===n._id},groupBy:function(e){return e.muscleGroup},fullWidth:!0,onChange:function(e,r){return function(e,n,r){t((function(t){var i=JSON.parse(JSON.stringify(t));return i.days[n].exercises[r].exerciseId=e?e._id:null,i}))}(r,n,a)},value:h.listAllExercises.find((function(n){return e.exerciseId===n._id}))||null,renderOption:function(e,t){return(0,i.createElement)("li",_({},e,{key:"auto-day-"+n+"-exercise-"+a+"-"+t._id}),t.nameEs)},renderInput:function(e){return(0,r.jsx)(d.Z,_({},e,{label:"Ejercicio"}))}}),(0,r.jsxs)(u.Z,{direction:"row",children:[(0,r.jsx)(g,{label:"sets",value:e.sets,field:"days[".concat(n,"].exercises[").concat(a,"].sets"),setter:t}),(0,r.jsx)(g,{label:"reps",value:e.reps,field:"days[".concat(n,"].exercises[").concat(a,"].reps"),setter:t})]}),(0,r.jsx)(o.Z,{onClick:function(){return e=n,r=a,void t((function(n){var t=Z(n);return t.days[e].exercises.splice(r,1),t}));var e,r},size:"small",children:(0,r.jsx)(j.ZkW,{})})]}),(0,r.jsx)(l.Z,{sx:{mb:1,mt:1}})]},"day-"+n+"-exercise-"+a)})),(0,r.jsx)(p.Z,{variant:"outlined",onClick:function(){return function(e){t((function(n){var t=Z(n);return t.days[e].exercises.push({exerciseId:"",sets:"",reps:""}),t}))}(n)},children:"A\xf1adir ejercicio"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]},"day-"+n)})),(0,r.jsx)(p.Z,{variant:"outlined",onClick:function(){t((function(e){var n=Z(e);return n.days.push({name:"",exercises:[]}),n}))},children:"A\xf1adir d\xeda"})]})]})}},1898:function(e,n,t){"use strict";t.r(n);var r=t(2322),i=t(3698),a=t(2784),s=t(7550),u=t(2048),c=t(3927),o=t(107),l=t(558),f=t(3379),d=t(5632),p=t(7072);function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],s=!0,u=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);s=!0);}catch(c){u=!0,i=c}finally{try{s||null==t.return||t.return()}finally{if(u)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return x(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(){var e,n,t=(e=["\nmutation Mutation($input: TrainingPlanTemplateInput!) {\n    createTrainingPlanTemplate(input: $input) {\n        _id\n        name\n    }\n}\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return b=function(){return t},t}var h=(0,l.Ps)(b());n.default=function(){var e=(0,d.useRouter)(),n=(0,a.useState)({id:"",name:"",days:[]}),t=n[0],l=n[1],x=y((0,f.D)(h),2),j=x[0],b=x[1],m=(b.data,b.loading),g=b.error;return(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(p.Z,{title:"Create a plan",children:(0,r.jsx)(u.Z,{variant:"contained",onClick:function(){j({variables:{input:v({},t)}}).then((function(n){n.data&&e.push("/plans/"+n.data.createTrainingPlanTemplate._id)})).catch((function(e){console.log(e)}))},disabled:m,children:"Save"})}),(0,r.jsxs)(c.Z,{spacing:2,children:[g&&(0,r.jsx)(o.Z,{severity:"warning",children:g.message}),(0,r.jsx)(i.Z,{state:t,setState:l})]})]})}},6890:function(e,n,t){"use strict";var r=t(2322),i=t(3927),a=t(2841);n.Z=function(){return(0,r.jsx)(i.Z,{justifyContent:"center",alignItems:"center",style:{height:"calc(100vh - 100px)"},children:(0,r.jsx)(a.Z,{})})}},1853:function(e,n,t){"use strict";var r=t(2322),i=t(2784),a=t(9506),s=t(7527),u=t(7612),c=t(5801),o=t(6765),l=t.n(o),f=t(5469),d=t(5678);n.Z=function(e){var n=e.label,t=e.value,o=e.setter,p=e.field,x=e.type,j=(0,i.useState)(!1),v=j[0],y=j[1];return(0,r.jsxs)(a.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(s.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(u.Z,{type:v?"text":x,value:t,onChange:function(e){return n=e.target.value,void o((function(e){var t=JSON.parse(JSON.stringify(e));return l()(t,p,n),t}));var n},label:n,autoComplete:"off",endAdornment:"password"===x&&(0,r.jsx)(f.Z,{position:"end",children:(0,r.jsx)(c.Z,{"aria-label":"toggle password visibility",onClick:function(){y((function(e){return!e}))},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:v?(0,r.jsx)(d.wqE,{}):(0,r.jsx)(d.t2l,{})})})})]})}}},function(e){e.O(0,[107,867,647,537,143,823,774,888,179],(function(){return n=7573,e(e.s=n);var n}));var n=e.O();_N_E=n}]);