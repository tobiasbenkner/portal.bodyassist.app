(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[213],{3803:function(e,n,t){"use strict";var r;t.d(n,{Z:function(){return s}});var i=t(2784);let u=0;const a=(r||(r=t.t(i,2))).useId;function s(e){if(void 0!==a){const n=a();return null!=e?e:n}return function(e){const[n,t]=i.useState(e),r=e||n;return i.useEffect((()=>{null==n&&(u+=1,t(`mui-${u}`))}),[n]),r}(e)}},7573:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plans/new",function(){return t(1898)}])},7072:function(e,n,t){"use strict";var r=t(2322),i=t(3927),u=t(2197);t(2784);n.Z=function(e){var n=e.title,t=e.children;return(0,r.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[(0,r.jsx)(u.Z,{variant:"h4",children:n}),t&&(0,r.jsx)(i.Z,{direction:"row",spacing:2,children:t})]})}},3698:function(e,n,t){"use strict";t.d(n,{Z:function(){return A}});var r=t(2322),i=t(2784),u=t(7550),a=t(107),s=t(3927),c=t(5744),o=t(5801),l=t(6961),f=t(9823),d=t(6537),p=t(2048),v=t(1853),x=t(5678),j=t(9506),y=t(7527),m=t(7612),h=t(6765),b=t.n(h),g=function(e){var n=e.label,t=e.value,i=e.setter,u=e.field;return(0,r.jsxs)(j.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(y.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(m.Z,{value:t,onChange:function(e){return function(e){var n=e.replace(/[^0-9.]/g,"");i((function(e){var t=JSON.parse(JSON.stringify(e));return b()(t,u,n),t}))}(e.target.value)},label:n,autoComplete:"off",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})]})},Z=function(e){return JSON.parse(JSON.stringify(e))},O=t(558),w=t(794),S=t(6890),_=t(6868),P=t(6635),E=t.n(P);function C(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){C(e,n,t[n])}))}return e}function I(){var e,n,t=(e=["\n    query Query {\n        listAllExercises {\n            _id\n            name\n            nameEs\n            muscleGroup\n            types\n        }\n    }"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return I=function(){return t},t}var N=(0,O.Ps)(I()),A=function(e){var n=e.state,t=e.setState,j=(0,_.ZK)().language,y=(0,w.a)(N),m=y.loading,h=y.error,b=y.data,O=(y.refetch,(0,i.useState)([])),P=O[0],C=O[1],I=(0,i.useState)([]),A=I[0];I[1];(0,i.useEffect)((function(){if(!m){var e=b.listAllExercises.filter((function(e){return 0===A.length||e.types.filter((function(e){return A.includes(e)})).length>0})).map((function(e){return k({},e,{name:"es"===j?e.nameEs:e.name})})).filter((function(e){return e.types.includes("gym")}));C(E().sortBy(e,["muscleGroup","name"])),console.log("done")}}),[m,A,j]);return m?(0,r.jsx)(S.Z,{}):(0,r.jsxs)(u.Z,{children:[h&&(0,r.jsx)(a.Z,{children:h.message}),n&&(0,r.jsxs)(s.Z,{spacing:2,children:[(0,r.jsx)(v.Z,{type:"text",label:"Plan",value:n.name,field:"name",setter:t}),n.days.map((function(e,n){return(0,r.jsxs)(c.Z,{elevation:3,sx:{p:2,mb:2},children:[(0,r.jsx)(s.Z,{alignItems:"end",sx:{mb:1},children:(0,r.jsx)(o.Z,{onClick:function(){return e=n,void t((function(n){var t=Z(n);return t.days.splice(e,1),t}));var e},size:"small",children:(0,r.jsx)(x.ZkW,{})})}),(0,r.jsx)(v.Z,{type:"text",label:"D\xeda",value:e.name,field:"days[".concat(n,"].name"),setter:t}),(0,r.jsx)(l.Z,{sx:{mb:1,mt:1}}),e.exercises.map((function(e,u){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(f.Z,{id:"auto-day-"+n+"-exercise-"+u,disablePortal:!0,options:P,getOptionLabel:function(e){return e.name||""},isOptionEqualToValue:function(e,n){return e._id===n._id},groupBy:function(e){return e.muscleGroup},fullWidth:!0,onChange:function(e,r){return function(e,n,r){t((function(t){var i=JSON.parse(JSON.stringify(t));return i.days[n].exercises[r].exerciseId=e?e._id:null,i}))}(r,n,u)},value:P.find((function(n){return e.exerciseId===n._id}))||b.listAllExercises.find((function(n){return e.exerciseId===n._id}))||null,renderOption:function(e,t){return(0,i.createElement)("li",k({},e,{key:"auto-day-"+n+"-exercise-"+u+"-"+t._id}),t.name)},renderInput:function(e){return(0,r.jsx)(d.Z,k({},e,{label:"Ejercicio"}))}}),(0,r.jsxs)(s.Z,{direction:"row",children:[(0,r.jsx)(g,{label:"sets",value:e.sets,field:"days[".concat(n,"].exercises[").concat(u,"].sets"),setter:t}),(0,r.jsx)(g,{label:"reps",value:e.reps,field:"days[".concat(n,"].exercises[").concat(u,"].reps"),setter:t})]}),(0,r.jsx)(o.Z,{onClick:function(){return e=n,r=u,void t((function(n){var t=Z(n);return t.days[e].exercises.splice(r,1),t}));var e,r},size:"small",children:(0,r.jsx)(x.ZkW,{})})]}),(0,r.jsx)(l.Z,{sx:{mb:1,mt:1}})]},"day-"+n+"-exercise-"+u)})),(0,r.jsx)(p.Z,{variant:"outlined",onClick:function(){return function(e){t((function(n){var t=Z(n);return t.days[e].exercises.push({exerciseId:"",sets:"",reps:""}),t}))}(n)},children:"A\xf1adir ejercicio"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]},"day-"+n)})),(0,r.jsx)(p.Z,{variant:"outlined",onClick:function(){t((function(e){var n=Z(e);return n.days.push({name:"",exercises:[]}),n}))},children:"A\xf1adir d\xeda"})]})]})}},1898:function(e,n,t){"use strict";t.r(n);var r=t(2322),i=t(3698),u=t(2784),a=t(7550),s=t(2048),c=t(3927),o=t(107),l=t(558),f=t(3379),d=t(5632),p=t(7072);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,u=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(u.push(r.value),!n||u.length!==n);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(s)throw i}}return u}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(){var e,n,t=(e=["\nmutation Mutation($input: TrainingPlanTemplateInput!) {\n    createTrainingPlanTemplate(input: $input) {\n        _id\n        name\n    }\n}\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return m=function(){return t},t}var h=(0,l.Ps)(m());n.default=function(){var e=(0,d.useRouter)(),n=(0,u.useState)({id:"",name:"",days:[]}),t=n[0],l=n[1],v=y((0,f.D)(h),2),x=v[0],m=v[1],b=(m.data,m.loading),g=m.error;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(p.Z,{title:"Create a plan",children:(0,r.jsx)(s.Z,{variant:"contained",onClick:function(){x({variables:{input:j({},t)}}).then((function(n){n.data&&e.push("/plans/"+n.data.createTrainingPlanTemplate._id)})).catch((function(e){console.log(e)}))},disabled:b,children:"Save"})}),(0,r.jsxs)(c.Z,{spacing:2,children:[g&&(0,r.jsx)(o.Z,{severity:"warning",children:g.message}),(0,r.jsx)(i.Z,{state:t,setState:l})]})]})}},6890:function(e,n,t){"use strict";var r=t(2322),i=t(3927),u=t(2841);n.Z=function(){return(0,r.jsx)(i.Z,{justifyContent:"center",alignItems:"center",style:{height:"calc(100vh - 100px)"},children:(0,r.jsx)(u.Z,{})})}},1853:function(e,n,t){"use strict";var r=t(2322),i=t(2784),u=t(9506),a=t(7527),s=t(7612),c=t(5801),o=t(6765),l=t.n(o),f=t(5469),d=t(5678);n.Z=function(e){var n=e.label,t=e.value,o=e.setter,p=e.field,v=e.type,x=(0,i.useState)(!1),j=x[0],y=x[1];return(0,r.jsxs)(u.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(a.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(s.Z,{type:j?"text":v,value:t,onChange:function(e){return n=e.target.value,void o((function(e){var t=JSON.parse(JSON.stringify(e));return l()(t,p,n),t}));var n},label:n,autoComplete:"off",endAdornment:"password"===v&&(0,r.jsx)(f.Z,{position:"end",children:(0,r.jsx)(c.Z,{"aria-label":"toggle password visibility",onClick:function(){y((function(e){return!e}))},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:j?(0,r.jsx)(d.wqE,{}):(0,r.jsx)(d.t2l,{})})})})]})}}},function(e){e.O(0,[182,134,647,415,701,774,888,179],(function(){return n=7573,e(e.s=n);var n}));var n=e.O();_N_E=n}]);