(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{8675:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(1461),i=t(7896),a=t(2784),o=t(6277),s=t(1290),u=t(5672),c=t(9075),l=t(7870);var d=(0,t(6355).ZP)(),f=t(2423),p=t(2322);const x=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,f.Z)(),v=d("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[`maxWidth${(0,s.Z)(String(t.maxWidth))}`],t.fixed&&n.fixed,t.disableGutters&&n.disableGutters]}}),h=e=>(0,l.Z)({props:e,name:"MuiContainer",defaultTheme:m});var b=t(7342),y=t(5992),j=t(3853);const g=function(e={}){const{createStyledComponent:n=v,useThemeProps:t=h,componentName:l="MuiContainer"}=e,d=n((({theme:e,ownerState:n})=>(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:n})=>n.fixed&&Object.keys(e.breakpoints.values).reduce(((n,t)=>{const r=t,i=e.breakpoints.values[r];return 0!==i&&(n[e.breakpoints.up(r)]={maxWidth:`${i}${e.breakpoints.unit}`}),n}),{})),(({theme:e,ownerState:n})=>(0,i.Z)({},"xs"===n.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[e.breakpoints.up(n.maxWidth)]:{maxWidth:`${e.breakpoints.values[n.maxWidth]}${e.breakpoints.unit}`}}))),f=a.forwardRef((function(e,n){const a=t(e),{className:f,component:m="div",disableGutters:v=!1,fixed:h=!1,maxWidth:b="lg"}=a,y=(0,r.Z)(a,x),j=(0,i.Z)({},a,{component:m,disableGutters:v,fixed:h,maxWidth:b}),g=((e,n)=>{const{classes:t,fixed:r,disableGutters:i,maxWidth:a}=e,o={root:["root",a&&`maxWidth${(0,s.Z)(String(a))}`,r&&"fixed",i&&"disableGutters"]};return(0,c.Z)(o,(e=>(0,u.Z)(n,e)),t)})(j,l);return(0,p.jsx)(d,(0,i.Z)({as:m,ownerState:j,className:(0,o.Z)(g.root,f),ref:n},y))}));return f}({createStyledComponent:(0,y.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[`maxWidth${(0,b.Z)(String(t.maxWidth))}`],t.fixed&&n.fixed,t.disableGutters&&n.disableGutters]}}),useThemeProps:e=>(0,j.Z)({props:e,name:"MuiContainer"})});var Z=g},5694:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(1461),i=t(7896),a=t(2784),o=t(9075),s=t(5992),u=t(3853),c=t(2197),l=t(5672);function d(e){return(0,l.Z)("MuiDialogContentText",e)}(0,t(9222).Z)("MuiDialogContentText",["root"]);var f=t(2322);const p=["children"],x=(0,s.ZP)(c.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,n)=>n.root})({});var m=a.forwardRef((function(e,n){const t=(0,u.Z)({props:e,name:"MuiDialogContentText"}),a=(0,r.Z)(t,p),s=(e=>{const{classes:n}=e,t=(0,o.Z)({root:["root"]},d,n);return(0,i.Z)({},n,t)})(a);return(0,f.jsx)(x,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:a},t,{classes:s}))}))},5936:function(e,n,t){"use strict";var r=t(7896),i=t(1461),a=t(2784),o=t(6277),s=t(9075),u=t(2197),c=t(5992),l=t(3853),d=t(6670),f=t(8346),p=t(2322);const x=["className","id"],m=(0,c.ZP)(u.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,n)=>n.root})({padding:"16px 24px",flex:"0 0 auto"}),v=a.forwardRef((function(e,n){const t=(0,l.Z)({props:e,name:"MuiDialogTitle"}),{className:u,id:c}=t,v=(0,i.Z)(t,x),h=t,b=(e=>{const{classes:n}=e;return(0,s.Z)({root:["root"]},d.a,n)})(h),{titleId:y=c}=a.useContext(f.Z);return(0,p.jsx)(m,(0,r.Z)({component:"h2",className:(0,o.Z)(b.root,u),ownerState:h,ref:n,variant:"h6",id:y},v))}));n.Z=v},5083:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plans/[id]",function(){return t(4889)}])},7072:function(e,n,t){"use strict";var r=t(2322),i=t(3927),a=t(2197);t(2784);n.Z=function(e){var n=e.title,t=e.children;return(0,r.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[(0,r.jsx)(a.Z,{variant:"h4",children:n}),t&&(0,r.jsx)(i.Z,{direction:"row",spacing:2,children:t})]})}},3698:function(e,n,t){"use strict";t.d(n,{Z:function(){return W}});var r=t(2322),i=t(2784),a=t(7550),o=t(107),s=t(3927),u=t(5744),c=t(5801),l=t(6961),d=t(9823),f=t(6537),p=t(2048),x=t(1853),m=t(5678),v=t(9506),h=t(7527),b=t(7612),y=t(6765),j=t.n(y),g=function(e){var n=e.label,t=e.value,i=e.setter,a=e.field;return(0,r.jsxs)(v.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(h.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(b.Z,{value:t,onChange:function(e){return function(e){var n=e.replace(/[^0-9.]/g,"");i((function(e){var t=JSON.parse(JSON.stringify(e));return j()(t,a,n),t}))}(e.target.value)},label:n,autoComplete:"off",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})]})},Z=function(e){return JSON.parse(JSON.stringify(e))},w=t(558),O=t(794),S=t(6890);function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}function C(){var e,n,t=(e=["\n    query Query {\n        listAllExercises {\n            _id\n            name\n            nameEs\n            muscleGroup\n        }\n    }"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return C=function(){return t},t}var T=(0,w.Ps)(C()),W=function(e){var n=e.state,t=e.setState,v=(0,O.a)(T),h=v.loading,b=v.error,y=v.data;v.refetch;return h?(0,r.jsx)(S.Z,{}):(0,r.jsxs)(a.Z,{children:[b&&(0,r.jsx)(o.Z,{children:b.message}),n&&(0,r.jsxs)(s.Z,{spacing:2,children:[(0,r.jsx)(x.Z,{type:"text",label:"Plan",value:n.name,field:"name",setter:t}),n.days.map((function(e,n){return(0,r.jsxs)(u.Z,{elevation:3,sx:{p:2,mb:2},children:[(0,r.jsx)(s.Z,{alignItems:"end",sx:{mb:1},children:(0,r.jsx)(c.Z,{onClick:function(){return e=n,void t((function(n){var t=Z(n);return t.days.splice(e,1),t}));var e},size:"small",children:(0,r.jsx)(m.ZkW,{})})}),(0,r.jsx)(x.Z,{type:"text",label:"D\xeda",value:e.name,field:"days[".concat(n,"].name"),setter:t}),(0,r.jsx)(l.Z,{sx:{mb:1,mt:1}}),e.exercises.map((function(e,a){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{id:"auto-day-"+n+"-exercise-"+a,disablePortal:!0,options:y.listAllExercises,getOptionLabel:function(e){return e.nameEs||e.name||""},isOptionEqualToValue:function(e,n){return e._id===n._id},groupBy:function(e){return e.muscleGroup},fullWidth:!0,onChange:function(e,r){return function(e,n,r){t((function(t){var i=JSON.parse(JSON.stringify(t));return i.days[n].exercises[r].exerciseId=e?e._id:null,i}))}(r,n,a)},value:y.listAllExercises.find((function(n){return e.exerciseId===n._id}))||null,renderOption:function(e,t){return(0,i.createElement)("li",k({},e,{key:"auto-day-"+n+"-exercise-"+a+"-"+t._id}),t.nameEs)},renderInput:function(e){return(0,r.jsx)(f.Z,k({},e,{label:"Ejercicio"}))}}),(0,r.jsxs)(s.Z,{direction:"row",children:[(0,r.jsx)(g,{label:"sets",value:e.sets,field:"days[".concat(n,"].exercises[").concat(a,"].sets"),setter:t}),(0,r.jsx)(g,{label:"reps",value:e.reps,field:"days[".concat(n,"].exercises[").concat(a,"].reps"),setter:t})]}),(0,r.jsx)(c.Z,{onClick:function(){return e=n,r=a,void t((function(n){var t=Z(n);return t.days[e].exercises.splice(r,1),t}));var e,r},size:"small",children:(0,r.jsx)(m.ZkW,{})})]}),(0,r.jsx)(l.Z,{sx:{mb:1,mt:1}})]},"day-"+n+"-exercise-"+a)})),(0,r.jsx)(p.Z,{variant:"outlined",onClick:function(){return function(e){t((function(n){var t=Z(n);return t.days[e].exercises.push({exerciseId:"",sets:"",reps:""}),t}))}(n)},children:"A\xf1adir ejercicio"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]},"day-"+n)})),(0,r.jsx)(p.Z,{variant:"outlined",onClick:function(){t((function(e){var n=Z(e);return n.days.push({name:"",exercises:[]}),n}))},children:"A\xf1adir d\xeda"})]})]})}},5287:function(e,n,t){"use strict";t.d(n,{f:function(){return r}});var r=function(e){return e?{id:e._id||"",name:e.name,expirationDate:e.expirationDate,days:e.days.map((function(e){return{name:e.name,exercises:e.exercises.map((function(e){return{reps:e.reps,sets:e.sets,exerciseId:e.exercise._id}}))}}))}:{id:"",name:"",expirationDate:void 0,days:[]}}},4889:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var r=t(4776),i=t.n(r),a=t(2322),o=t(5632),s=t(7072),u=t(8675),c=t(2048),l=t(3927),d=t(107),f=t(2784),p=t(3698),x=t(558),m=t(794),v=t(3379),h=t(6890),b=t(5678),y=t(5801),j=t(9089),g=t(5936),Z=t(6060),w=t(5694),O=t(5971);function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n,t,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,i)}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(){var e,n,t=(e=["\nmutation UpdateTrainingPlan($input: FindByIdInput!) {\n    deleteTrainingPlanTemplate(input: $input) {\n        id\n    }\n}\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return C=function(){return t},t}var T=(0,x.Ps)(C()),W=function(e){var n=e.id,t=(0,o.useRouter)(),r=k(f.useState(!1),2),s=r[0],u=r[1],l=k((0,v.D)(T),2),p=l[0],x=l[1],m=(x.data,x.loading),h=x.error,S=function(){u(!1)},C=function(){var e,r=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p({variables:{input:{id:n}}});case 3:return S(),e.next=6,t.push("/plans");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){P(a,r,i,o,s,"next",e)}function s(e){P(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{color:"secondary",component:"span",onClick:function(){u(!0)},children:(0,a.jsx)(b.ZkW,{})}),(0,a.jsxs)(j.Z,{open:s,onClose:S,children:[(0,a.jsx)(g.Z,{id:"alert-dialog-title",children:"Eleminar"}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsx)(w.Z,{id:"alert-dialog-description",children:"\xbfRealmente quieres borrar el plan?"}),h&&(0,a.jsx)(d.Z,{severity:"warning",children:h.message})]}),(0,a.jsxs)(O.Z,{children:[(0,a.jsx)(c.Z,{onClick:S,disabled:m,children:"No"}),(0,a.jsx)(c.Z,{onClick:C,disabled:m,autoFocus:!0,children:"S\xed"})]})]})]})},_=t(5287);function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E(e,n,t,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,i)}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){N(e,n,t[n])}))}return e}function R(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return I(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function M(){var e=D(["\nquery Query($input: FindByIdInput!) {\n    findTrainingPlanTemplateById(input: $input) {\n        _id\n        name\n        days {\n            name\n            exercises {\n                exercise {\n                    _id\n                }\n                sets\n                reps\n            }\n        }\n    }\n}\n"]);return M=function(){return e},e}function $(){var e=D(["\nmutation UpdateTrainingPlan($input: TrainingPlanTemplateInput!) {\n    updateTrainingPlanTemplate(input: $input) {\n        _id\n    }\n}"]);return $=function(){return e},e}var G=(0,x.Ps)(M()),z=(0,x.Ps)($()),F=function(){var e=(0,o.useRouter)().query.id,n=(0,f.useState)(),t=n[0],r=n[1],x=(0,m.a)(G,{variables:{input:{id:e}}}),b=x.loading,y=x.error,j=x.data,g=R((0,v.D)(z),2),Z=g[0],w=g[1];(0,f.useEffect)((function(){if(!b)if(y)console.log(y);else{var e=(0,_.f)(null===j||void 0===j?void 0:j.findTrainingPlanTemplateById);r(e)}}),[b]);var O=function(){var e,n=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z({variables:{input:A({},t)}});case 2:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){E(a,r,i,o,s,"next",e)}function s(e){E(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return b?(0,a.jsx)(h.Z,{}):(0,a.jsxs)(u.Z,{maxWidth:"md",children:[(0,a.jsxs)(s.Z,{title:"Plan",children:[(0,a.jsx)(W,{id:e}),(0,a.jsx)(c.Z,{variant:"contained",onClick:O,disabled:b||w.loading,children:"Save"})]}),(0,a.jsxs)(l.Z,{spacing:2,children:[y&&(0,a.jsx)(d.Z,{severity:"warning",children:y.message}),w.error&&(0,a.jsx)(d.Z,{severity:"warning",children:w.error.message}),!y&&(0,a.jsx)(p.Z,{state:t,setState:r})]})]})}},6890:function(e,n,t){"use strict";var r=t(2322),i=t(3927),a=t(2841);n.Z=function(){return(0,r.jsx)(i.Z,{justifyContent:"center",alignItems:"center",style:{height:"calc(100vh - 100px)"},children:(0,r.jsx)(a.Z,{})})}},1853:function(e,n,t){"use strict";var r=t(2322),i=t(2784),a=t(9506),o=t(7527),s=t(7612),u=t(5801),c=t(6765),l=t.n(c),d=t(5469),f=t(5678);n.Z=function(e){var n=e.label,t=e.value,c=e.setter,p=e.field,x=e.type,m=(0,i.useState)(!1),v=m[0],h=m[1];return(0,r.jsxs)(a.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(o.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(s.Z,{type:v?"text":x,value:t,onChange:function(e){return n=e.target.value,void c((function(e){var t=JSON.parse(JSON.stringify(e));return l()(t,p,n),t}));var n},label:n,autoComplete:"off",endAdornment:"password"===x&&(0,r.jsx)(d.Z,{position:"end",children:(0,r.jsx)(u.Z,{"aria-label":"toggle password visibility",onClick:function(){h((function(e){return!e}))},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:v?(0,r.jsx)(f.wqE,{}):(0,r.jsx)(f.t2l,{})})})})]})}}},function(e){e.O(0,[134,647,415,870,701,774,888,179],(function(){return n=5083,e(e.s=n);var n}));var n=e.O();_N_E=n}]);